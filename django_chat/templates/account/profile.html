{% extends 'base.html' %}

{% load bootstrap_icons %}

{% block head_block %}
<title>{{user.username}} | Profile</title>
{% endblock %}

{% block body_block %}
<div class = "container">
	<div class = "row justify-content-center">
		<div class = "col col-lg-8">
			<div class = "card shadow">
				<div class = "card-body">

					<div class = "container">
						<div class = "row">
							<div class = "col-12 col-sm-2 d-flex flex-column my-5 my-sm-0">
								<img src = "{{user.user_image.url}}" class = "img-fluid mx-auto" style = "height: 48px"/>
							</div>
							<div class = "col-12 col-sm-10">
								<form class = "form" action = "{% url 'account:update_profile' %}" method = "post">
									<h5>Username</h5>
									<div class = "input-group my-3">
										<span class = "input-group-text">{% bs_icon "person" %}</span>
										<input class = "form-control" type = "text" placeholder="Username" name = "username" value = "{{user.username}}" required></input>
									</div>

									<div class = "form-check form-switch d-inline-block my-3">
										<input class = "form-check-input" type = "checkbox" id = "darkThemeToggler" name = "darktheme"
											{% if user.dark_theme%}
											checked
											{% endif %}
										></input>
										<label class = "form-check-label" for = "darkThemeToggler">Dark Theme</label>
									</div>

									{% for message in messages %}
										<p class = "bg-warning px-2 text-secondary">{{message}}</p>
									{% endfor %}

									<input class = "btn btn-primary w-100" type = "submit" value = "Save"></input>
								</form>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}